# Form1022test

这是一个小型的测试项目。

原需求比较简单，大意是从UI中取得数据，然后保存，并可以根据规定好的pdf form格式进行回填和下载。

考虑到原需求的客户性质以及业务性质，我从两个方面做了一些业务扩展。

**功能扩展：**

这个业务要运行在互联网上，那么潜在含义就是7*24的性质，加上客户并没专门的IT支持团队，那么功能设计之初就要考虑数据源pdf form变更带来的风险。

为了实现能够动态绑定pdf form,减少系统硬升级带来的中断，需要扩展如下业务：

1、将用户分为客户/管理员，提供不同的UI及权限，其中管理员负责维护官方的pdf；客户根据身份id对自己的个人信息进行CRUD；

2、管理员维护官方pdf，系统从其form中自动抽离形成Form-Field结构，并形成针对该pdf Form的基础Schema；

3、根据基础Schema，自动生成前端页面，并提供面对管理员的管理功能，可以增加前端校验规则、进行前端页面测试；

**实现过程及结果：**

由于时间较短，本次只实现了部分Feature，要点如下：

1、从pdf中抽取单页，并读取该页上的form信息，形成form json描述；

2、使用React.js构建简单前端，用以填写用户信息；

3、使用配置文件，将前端与form json结构进行匹配，以存储客户信息；

4、根据客户信息回填pdf form并可以下载；

5、基于dotnetcore 3.0的C# WebAPI项目，以及包含在项目内的若干工具类；

**需要特别注意的地方：**

1、为了兼容dotnet core，本项目使用了第三方组件iText7，该控件使用AGPL和商业双授权，如果要保持闭源则需要购买授权，可能会增加成本；如果基于.NET Framework进行开发部署，可换为iTextSharp，此处节省部分费用，带来的是开发工作效率降低。

2、本次实现是一个基于单用户的demo，暂时没有使用任何数据库，而使用json文件存储各类信息。如果要作为正式功能上线，建议使用DocumentDB。

3、官方pdf时有升级，随之带来的是客户业务需要按pdf版本管理，那么很有必要在系统中增加pdf版本管理功能，并将版本信息与客户业务绑定（需根据官方业务要求开发）。